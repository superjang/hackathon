<script src="../../../js/common/library/jquery/jquery.min.js"></script>
<script src="../../../js/common/library/underscore/underscore.min.js"></script>
<script src="../../../js/common/gnb.js"></script>

<script>
    $(document).ready(function() {
        $('.button__prev_page').on('click', function(e){
            e.preventDefault();
            history.back();
        });

        $.ajaxSetup({ cache: true });
        $.getScript('//connect.facebook.net/en_US/sdk.js', function(){
            FB.init({
                appId: '1922358581124623',
                version: 'v2.7'
            });

            FB.getLoginStatus(function(){

            });
        });


    $('.list__sns').on('click', '.button__share_sns', $.proxy(shareItem, this));

    function shareItem(event){
        var target = $(event.currentTarget),
            snsType = target.data('sns-type'),
            selectItem = target.parents('.vip__item'),
            snsData = {
                title: selectItem.data('sns-title'),
                description: selectItem.data('sns-description'),
                image: selectItem.data('sns-image'),
                url: selectItem.data('sns-url')
            };

        switch(snsType){
            case 'facebook' :
                FB.ui({
                        method: 'share_open_graph',
                        action_type: 'og.shares',
                        display: 'popup',
                        hashtag: '#SmileLinker',
                        mobile_iframe: false,
                        action_properties: JSON.stringify({
                            object: {
                                'og:url': snsData.url,
                                'og:title': snsData.title,
                                'og:description': snsData.description,
                                'og:image': snsData.image
                            }
                        })
                }, function(response){
                    alert('공유가 완료되었습니다. 부자되세요~');
                });
                break;
            case 'kakaotalk' :
                alert('준비중입니다.')
                break;
        }

        $('.box__share_sns.on').find('.button__share_list').trigger('click');
    }

        $('.list__service_site .item__service_site').on('click', function(){
            $('.list__service_site .item__service_site').removeClass('on')
            $(this).addClass('on');

            switch($(this).data('service-name')){
                case 'auction' :
                    $('.box__list_vip').removeClass('gmarket g9').addClass('auction');
                    break;
                case 'gmarket' :
                    $('.box__list_vip').removeClass('auction g9').addClass('gmarket');
                    break;
                case 'g9' :
                    $('.box__list_vip').removeClass('gmarket auction').addClass('g9');
                    break;
            }

        })

    });
</script>
